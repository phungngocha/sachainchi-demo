<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NutriInchi - ChÄƒm sÃ³c cÆ¡ thá»ƒ khá»e máº¡nh tá»« thiÃªn nhiÃªn</title>

  <!-- CSS chung -->
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="home.css">
</head>
<body>
  <!-- Import Ä‘á»™ng -->
  <div id="header"></div>
  <div id="home"></div>
  <div id="footer"></div>

  <!-- Cart Drawer -->
  <aside id="cartDrawer" class="cart-drawer hidden" aria-hidden="true">
    <div class="cart-header">
      <h4>Giá» hÃ ng</h4>
      <button id="closeCart" class="close-btn">&times;</button>
    </div>
    <div id="cartItems" class="cart-items"></div>
    <div class="cart-footer">
      <div class="total">
        <span>Tá»•ng:</span>
        <strong id="cartTotal">0 â‚«</strong>
      </div>
      <button id="checkoutBtn" class="btn">Thanh toÃ¡n (giáº£ láº­p)</button>
    </div>
  </aside>
  <div id="toast" class="toast hidden"></div>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- JS: load cÃ¡c component -->
  <script>
      loadComponent("header", "header.html", () => {
      updateCartUI();

      const script = document.createElement("script");
      script.src = "header.js";
      document.body.appendChild(script);
    });
  // loadComponent: chÃ¨n HTML vÃ  gá»i callback khi xong
  async function loadComponent(id, file, callback) {
    try {
      const res = await fetch(file);
      if (!res.ok) throw new Error('Fetch failed ' + file + ' : ' + res.status);
      const html = await res.text();

      // chÃ¨n ná»™i dung HTML
      const container = document.getElementById(id);
      if (!container) {
        console.error('KhÃ´ng tÃ¬m tháº¥y container', id);
        return;
      }
      container.innerHTML = html;

      // náº¿u cÃ³ callback (vÃ­ dá»¥ load thÃªm JS cá»¥ thá»ƒ), gá»i callback
      if (typeof callback === 'function') callback();
    } catch (err) {
      console.error('loadComponent error:', err);
    }
  }


  

    loadComponent("footer", "footer.html");

  // Load home -> sau khi chÃ¨n home.html, má»›i append home.js
  loadComponent("home", "home.html", () => {
    const s = document.createElement("script");
    s.src = "home.js";
    s.defer = true; // not required but ok
    document.body.appendChild(s);
  });


</script>
<!-- ğŸŒ¸ Tá»± Ä‘á»™ng chÃ¨n nÃºt Messenger + Zalo -->
<!-- <script>
  fetch("contact-buttons.html")
    .then(res => res.text())
    .then(data => {
      document.body.insertAdjacentHTML("beforeend", data);
    });
</script> -->


  <!-- JS chung -->
  
  <!-- <script src="home.js"></script> -->
 <script src="products.js"></script>
  <script src="script.js"></script>
</body>
</html>
