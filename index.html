<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Shop H·∫°t Sacha Inchi</title>

  <!-- CSS chung -->
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="home.css">
</head>
<body>
  <!-- Import ƒë·ªông -->
  <div id="header"></div>
  <div id="home"></div>
  <div id="footer"></div>

  <!-- Cart Drawer -->
  <aside id="cartDrawer" class="cart-drawer hidden" aria-hidden="true">
    <div class="cart-header">
      <h4>Gi·ªè h√†ng</h4>
      <button id="closeCart" class="close-btn">&times;</button>
    </div>
    <div id="cartItems" class="cart-items"></div>
    <div class="cart-footer">
      <div class="total">
        <span>T·ªïng:</span>
        <strong id="cartTotal">0 ‚Ç´</strong>
      </div>
      <button id="checkoutBtn" class="btn">Thanh to√°n (gi·∫£ l·∫≠p)</button>
    </div>
  </aside>
  <div id="toast" class="toast hidden"></div>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- JS: load c√°c component -->
  <script>
      loadComponent("header", "header.html", () => {
      updateCartUI();

      const script = document.createElement("script");
      script.src = "header.js";
      document.body.appendChild(script);
    });
  // loadComponent: ch√®n HTML v√† g·ªçi callback khi xong
  async function loadComponent(id, file, callback) {
    try {
      const res = await fetch(file);
      if (!res.ok) throw new Error('Fetch failed ' + file + ' : ' + res.status);
      const html = await res.text();

      // ch√®n n·ªôi dung HTML
      const container = document.getElementById(id);
      if (!container) {
        console.error('Kh√¥ng t√¨m th·∫•y container', id);
        return;
      }
      container.innerHTML = html;

      // n·∫øu c√≥ callback (v√≠ d·ª• load th√™m JS c·ª• th·ªÉ), g·ªçi callback
      if (typeof callback === 'function') callback();
    } catch (err) {
      console.error('loadComponent error:', err);
    }
  }


  

    loadComponent("footer", "footer.html");

  // Load home -> sau khi ch√®n home.html, m·ªõi append home.js
  loadComponent("home", "home.html", () => {
    const s = document.createElement("script");
    s.src = "home.js";
    s.defer = true; // not required but ok
    document.body.appendChild(s);
  });


</script>
<!-- üå∏ T·ª± ƒë·ªông ch√®n n√∫t Messenger + Zalo -->
<!-- <script>
  fetch("contact-buttons.html")
    .then(res => res.text())
    .then(data => {
      document.body.insertAdjacentHTML("beforeend", data);
    });
</script> -->


  <!-- JS chung -->
  
  <!-- <script src="home.js"></script> -->
 <script src="products.js"></script>
  <script src="script.js"></script>
</body>
</html>
